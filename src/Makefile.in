srcdir = @srcdir@
VPATH = $(srcdir)

INC = -I. -I$(srcdir)
CFLAGS += $(INC) -std=c99
LDFLAGS = -lgsl -lgslcblas -lm

# optimization
CFLAGS += -O3

# for debugging
#CFLAGS += -fsanitize=address

ifm: lattice.o neighbors.o state.o

LOMEM = @LOMEM@

ifeq ($(LOMEM), 0)
ifm: wolff.o measure.o
else
CFLAGS += -DLOMEM
ifm: wolff_lomem.o measure_lomem.o
endif

clean:
	$(RM) *.o
